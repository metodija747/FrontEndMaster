<div class="container py-5" style="background-color: #F4F1DE; font-size: 16px; color: #3d2105;">

  <div *ngIf="isLoading" class="d-flex justify-content-center align-items-center" style="height: 200px;">
    <mat-spinner></mat-spinner>
  </div>
  <ng-container *ngIf="!isLoading">
    <div *ngIf="isError; else productContent" class="d-flex flex-column justify-content-center align-items-center" style="height: 200px;">
      <div class="bg-danger text-white rounded-circle p-3 mb-3" style="width: 50px; height: 50px;">
        <i class="fas fa-times"></i>
      </div>
      <h2 style="color: red;">Error</h2>
    </div>
    <ng-template #productContent>
      <div *ngIf="products.length > 0; else noProducts">
        <div class="row justify-content-center mb-3">
          <div class="col-md-12 col-xl-10 text-left" *ngIf="!isLoading && !isError">
            Showing {{currentRangeStart}}-{{currentRangeEnd}} of {{totalProducts}} products
          </div>
          <div class="col-md-12 col-xl-10" *ngFor="let product of products">
            <app-product-card [product]="product"></app-product-card>
          </div>
        </div>
        <div class="d-flex justify-content-center">
          <nav aria-label="Page navigation">
            <ul class="pagination">
              <li class="page-item" [class.disabled]="currentPage === 1">
                <a class="page-link" href="#" (click)="getProducts(currentPage - 1); $event.preventDefault()">Previous</a>
              </li>
              <li class="page-item" [class.disabled]="currentPage === totalPages">
                <a class="page-link" href="#" (click)="getProducts(currentPage + 1); $event.preventDefault()">Next</a>
              </li>
            </ul>
          </nav>
        </div>
      </div>



    </ng-template>
    <ng-template #noProducts>
      <div class="d-flex justify-content-center align-items-center" style="height: 200px;">
        <h2>No matches found</h2>
      </div>
    </ng-template>
  </ng-container>
</div>
